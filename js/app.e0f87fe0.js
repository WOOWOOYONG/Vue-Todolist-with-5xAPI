(function(){"use strict";var n={471:function(n,e,o){o.d(e,{$0:function(){return h},Ag:function(){return u},Cq:function(){return p},Ud:function(){return f},Y0:function(){return g},dk:function(){return c},he:function(){return s},ls:function(){return d},yZ:function(){return l},zZ:function(){return a}});var t=o(2492),i=o.n(t);const r=i().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:n=>{n.addEventListener("mouseenter",i().stopTimer),n.addEventListener("mouseleave",i().resumeTimer)}}),s=n=>{r.fire({icon:"success",title:n})},a=n=>{r.fire({icon:"success",title:n})},l=()=>{r.fire({icon:"success",title:"新增成功"})},u=()=>{r.fire({icon:"success",title:"刪除成功"})},c=()=>{r.fire({icon:"success",title:"更改狀態成功"})},d=()=>{r.fire({icon:"success",title:"登出成功"})},m=i().mixin({title:"請確認",icon:"error",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"確定刪除",cancelButtonText:"再想想"}),f=n=>{m.fire({text:"是否確定刪除所有已完成事項？"}).then((e=>{e.isConfirmed&&n()}))},p=()=>{i().fire("刪除成功","已清除所有已完成事項","success")},g=()=>{i().fire("錯誤！","請先填寫正確資料","error")},h=()=>{i().fire("錯誤！","目前沒有完成事項","error")}},8332:function(n,e,o){o.d(e,{CA:function(){return m},Ib:function(){return a},dC:function(){return u},ni:function(){return l},oD:function(){return f},rk:function(){return c},y1:function(){return s},yr:function(){return d}});var t=o(4161),i=o(471);const r="https://todoo.5xcamp.us",s=n=>t.Z.post(`${r}/users`,n),a=n=>t.Z.post(`${r}/users/sign_in`,n),l=(n,e)=>{t.Z["delete"](`${r}/users/sign_out`,n).then((n=>{200===n.status&&((0,i.ls)(),localStorage.removeItem("userToken"),localStorage.removeItem("userNickName"),e())})).catch((n=>{console.log(n)}))},u=n=>t.Z.get(`${r}/todos`,n),c=(n,e)=>t.Z.post(`${r}/todos`,n,e),d=(n,e)=>t.Z["delete"](`${r}/todos/${n}`,e),m=(n,e)=>t.Z.patch(`${r}/todos/${n}/toggle`,{},e),f=(n,e,o)=>{let t=0;n.forEach((r=>{d(r.id,e).then((()=>{t+=1,t===n.length&&((0,i.Cq)(),o())})).catch((n=>{console.log(n)}))}))}},2180:function(n,e,o){var t=o(9242),i=o(3494),r=o(7749),s=o(8429),a=o(2483),l=o(3396),u=o(7139);const c={class:"home mx-auto max-w-[1920px]"},d=(0,l._)("h1",{class:"mb-20 text-3xl font-bold"},"歡迎來到你的待辦清單",-1),m={class:"flex justify-center gap-4"},f=(0,l._)("div",{class:"max-w-[20%]"},[(0,l._)("img",{src:"https://i.pinimg.com/originals/73/e4/26/73e4261f0cf991cdca702c53bba90597.gif",alt:"cover",class:"h-auto max-w-full rounded-xl"})],-1),p={class:"w-1/6"},g={key:0},h={key:1},w={class:"px-8"};function v(n,e,o,t,i,r){const s=(0,l.up)("LogIn"),a=(0,l.up)("SignUp");return(0,l.wg)(),(0,l.iD)("div",c,[d,(0,l._)("div",m,[f,(0,l._)("div",p,[i.showLogin?((0,l.wg)(),(0,l.iD)("div",g,[(0,l.Wm)(s)])):((0,l.wg)(),(0,l.iD)("div",h,[(0,l.Wm)(a,{"show-login":i.showLogin,"onUpdate:showLogin":r.updateShowLogin},null,8,["show-login","onUpdate:showLogin"])])),(0,l._)("div",w,[(0,l._)("button",{class:"w-full bg-slate-200 py-2",onClick:e[0]||(e[0]=n=>i.showLogin=!i.showLogin)},(0,u.zw)(i.showLogin?"註冊新帳號":"返回登入頁"),1)])])])])}const b={class:"mb-5"},y={for:"loginEmail"},_=(0,l._)("p",{class:"labeltxt"},"Email:",-1),k=(0,l._)("span",{class:"loginEmail-msg"},null,-1),x={class:"mb-6"},U={for:"loginPassword"},E=(0,l._)("p",{class:"labeltxt"},"密碼:",-1),P=(0,l._)("span",{class:"loginPassword-msg"},null,-1),L={class:"px-8"};function S(n,e,o,i,r,s){return(0,l.wg)(),(0,l.iD)("div",{onKeyup:e[3]||(e[3]=(0,t.D2)(((...n)=>s.handleLogin&&s.handleLogin(...n)),["enter"]))},[(0,l._)("form",null,[(0,l._)("div",b,[(0,l._)("label",y,[_,(0,l.wy)((0,l._)("input",{type:"email",class:"w-full rounded border-2 py-2 indent-2",placeholder:"請輸入Email",name:"loginEmail","onUpdate:modelValue":e[0]||(e[0]=n=>r.loginEmail=n)},null,512),[[t.nr,r.loginEmail,void 0,{trim:!0}]])]),k]),(0,l._)("div",x,[(0,l._)("label",U,[E,(0,l.wy)((0,l._)("input",{type:"password",class:"w-full rounded border-2 py-2 indent-2",placeholder:"請輸入密碼",name:"loginPassword","onUpdate:modelValue":e[1]||(e[1]=n=>r.loginPassword=n)},null,512),[[t.nr,r.loginPassword,void 0,{trim:!0}]])]),P]),(0,l._)("div",L,[(0,l._)("button",{type:"button",class:"mb-5 block w-full rounded bg-green-300 py-2 text-center",onClick:e[2]||(e[2]=(...n)=>s.handleLogin&&s.handleLogin(...n))}," 登入 ")])])],32)}o(7658);var C=o(8332),T=o(471),N={name:"Log-in",data(){return{loginEmail:"",loginPassword:""}},methods:{resetForm(){this.loginEmail="",this.loginPassword=""},handleLogin(){if(this.loginEmail&&this.loginPassword){const n={user:{email:this.loginEmail,password:this.loginPassword}};(0,C.Ib)(n).then((n=>{(0,T.he)(n.data.message),localStorage.setItem("userToken",n.headers.authorization),localStorage.setItem("userNickname",n.data.nickname),this.resetForm(),this.$router.push({name:"todo"})})).catch((n=>{console.log(n)}))}else(0,T.Y0)()}}},O=o(89);const Z=(0,O.Z)(N,[["render",S]]);var j=Z;const $={class:"loginForm"},I={class:"mb-5"},F={for:"signUpEmail"},A=(0,l._)("p",{class:"labeltxt"},"Email:",-1),D=(0,l._)("span",null,null,-1),W={class:"mb-5"},B={for:"nickName"},V=(0,l._)("p",{class:"labeltxt"},"暱稱:",-1),q=(0,l._)("span",null,null,-1),z={class:"mb-5"},M={for:"signUpPassword"},Y=(0,l._)("p",{class:"labeltxt"},"密碼:",-1),K=(0,l._)("span",null,null,-1),Q={class:"mb-8"},G={for:"confirmPassword"},H=(0,l._)("p",{class:"labeltxt"},"再次輸入密碼:",-1),J=(0,l._)("span",null,null,-1),R={class:"px-8"};function X(n,e,o,i,r,s){return(0,l.wg)(),(0,l.iD)("div",{onKeyup:e[5]||(e[5]=(0,t.D2)(((...n)=>s.handleSignUp&&s.handleSignUp(...n)),["enter"]))},[(0,l._)("form",$,[(0,l._)("div",I,[(0,l._)("label",F,[A,(0,l.wy)((0,l._)("input",{type:"email",class:"w-full rounded border-2 py-2 indent-2",placeholder:"請輸入Email",name:"signUpEmail","onUpdate:modelValue":e[0]||(e[0]=n=>r.signUpEmail=n)},null,512),[[t.nr,r.signUpEmail,void 0,{trim:!0}]])]),D]),(0,l._)("div",W,[(0,l._)("label",B,[V,(0,l.wy)((0,l._)("input",{type:"text",class:"w-full rounded border-2 py-2 indent-2",placeholder:"請輸入暱稱",name:"nickName","onUpdate:modelValue":e[1]||(e[1]=n=>r.nickName=n)},null,512),[[t.nr,r.nickName,void 0,{trim:!0}]])]),q]),(0,l._)("div",z,[(0,l._)("label",M,[Y,(0,l.wy)((0,l._)("input",{type:"password",class:"w-full rounded border-2 py-2 indent-2",placeholder:"請輸入密碼",name:"signUpPassword","onUpdate:modelValue":e[2]||(e[2]=n=>r.signUpPassWord=n)},null,512),[[t.nr,r.signUpPassWord,void 0,{trim:!0}]])]),K]),(0,l._)("div",Q,[(0,l._)("label",G,[H,(0,l.wy)((0,l._)("input",{type:"password",class:"w-full rounded border-2 py-2 indent-2",placeholder:"請再次輸入密碼",name:"confirmPassword","onUpdate:modelValue":e[3]||(e[3]=n=>r.confirmPassword=n)},null,512),[[t.nr,r.confirmPassword,void 0,{trim:!0}]])]),J]),(0,l._)("div",R,[(0,l._)("button",{type:"button",class:"mb-5 block w-full rounded bg-green-300 py-2 text-center",onClick:e[4]||(e[4]=(...n)=>s.handleSignUp&&s.handleSignUp(...n))}," 註冊 ")])])],32)}var nn={name:"Sign-Up",props:["showLogin"],data(){return{signUpEmail:"",nickName:"",signUpPassWord:"",confirmPassword:"",showLoginForm:this.showLogin}},methods:{resetForm(){this.signUpEmail="",this.nickName="",this.signUpPassWord="",this.confirmPassword=""},handleSignUp(){if(this.signUpEmail&&this.nickName&&this.signUpPassWord&&this.confirmPassword){const n={user:{email:this.signUpEmail,nickname:this.nickName,password:this.signUpPassWord}};(0,C.y1)(n).then((n=>{(0,T.zZ)(n.data.message),this.resetForm(),this.moveToLogin()})).catch((n=>console.log(n)))}else(0,T.Y0)()},moveToLogin(){this.showLoginForm=!0,this.$emit("update:showLogin",this.showLoginForm)}}};const en=(0,O.Z)(nn,[["render",X]]);var on=en,tn={name:"HomeView",components:{LogIn:j,SignUp:on},data(){return{showLogin:!0}},methods:{updateShowLogin(n){this.showLogin=n}}};const rn=(0,O.Z)(tn,[["render",v]]);var sn=rn;const an=[{path:"/",name:"home",component:sn,meta:{title:"首頁"}},{path:"/todo",name:"todo",component:()=>o.e(443).then(o.bind(o,8421)),meta:{title:"待辦事項",requiresAuth:!0}}],ln=(0,a.p7)({history:(0,a.r5)(),routes:an});ln.beforeEach(((n,e,o)=>{const t=localStorage.getItem("userToken"),i=n.matched.some((n=>n.meta.requiresAuth));i&&!t?o("/"):o()})),ln.beforeEach(((n,e,o)=>{window.document.title=n.meta.title,o()}));var un=ln;const cn={class:"mt-28 font-sans"};function dn(n,e){const o=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)("div",cn,[(0,l.Wm)(o)])}const mn={},fn=(0,O.Z)(mn,[["render",dn]]);var pn=fn;i.vI.add(s.QQm);const gn=(0,t.ri)(pn);gn.use(un).component("font-awesome-icon",r.GN).mount("#app")}},e={};function o(t){var i=e[t];if(void 0!==i)return i.exports;var r=e[t]={exports:{}};return n[t].call(r.exports,r,r.exports,o),r.exports}o.m=n,function(){var n=[];o.O=function(e,t,i,r){if(!t){var s=1/0;for(c=0;c<n.length;c++){t=n[c][0],i=n[c][1],r=n[c][2];for(var a=!0,l=0;l<t.length;l++)(!1&r||s>=r)&&Object.keys(o.O).every((function(n){return o.O[n](t[l])}))?t.splice(l--,1):(a=!1,r<s&&(s=r));if(a){n.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}r=r||0;for(var c=n.length;c>0&&n[c-1][2]>r;c--)n[c]=n[c-1];n[c]=[t,i,r]}}(),function(){o.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return o.d(e,{a:e}),e}}(),function(){o.d=function(n,e){for(var t in e)o.o(e,t)&&!o.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})}}(),function(){o.f={},o.e=function(n){return Promise.all(Object.keys(o.f).reduce((function(e,t){return o.f[t](n,e),e}),[]))}}(),function(){o.u=function(n){return"js/about.8c5c72f1.js"}}(),function(){o.miniCssF=function(n){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){o.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}}(),function(){var n={},e="my-todolist:";o.l=function(t,i,r,s){if(n[t])n[t].push(i);else{var a,l;if(void 0!==r)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==e+r){a=d;break}}a||(l=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",e+r),a.src=t),n[t]=[i];var m=function(e,o){a.onerror=a.onload=null,clearTimeout(f);var i=n[t];if(delete n[t],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(n){return n(o)})),e)return e(o)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=m.bind(null,a.onerror),a.onload=m.bind(null,a.onload),l&&document.head.appendChild(a)}}}(),function(){o.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}}(),function(){o.p="/Vue-Todolist-with-5xAPI/"}(),function(){var n={143:0};o.f.j=function(e,t){var i=o.o(n,e)?n[e]:void 0;if(0!==i)if(i)t.push(i[2]);else{var r=new Promise((function(o,t){i=n[e]=[o,t]}));t.push(i[2]=r);var s=o.p+o.u(e),a=new Error,l=function(t){if(o.o(n,e)&&(i=n[e],0!==i&&(n[e]=void 0),i)){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;a.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",a.name="ChunkLoadError",a.type=r,a.request=s,i[1](a)}};o.l(s,l,"chunk-"+e,e)}},o.O.j=function(e){return 0===n[e]};var e=function(e,t){var i,r,s=t[0],a=t[1],l=t[2],u=0;if(s.some((function(e){return 0!==n[e]}))){for(i in a)o.o(a,i)&&(o.m[i]=a[i]);if(l)var c=l(o)}for(e&&e(t);u<s.length;u++)r=s[u],o.o(n,r)&&n[r]&&n[r][0](),n[r]=0;return o.O(c)},t=self["webpackChunkmy_todolist"]=self["webpackChunkmy_todolist"]||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))}();var t=o.O(void 0,[998],(function(){return o(2180)}));t=o.O(t)})();
//# sourceMappingURL=app.e0f87fe0.js.map